{"version":3,"file":"static/js/621.16a7eef0.chunk.js","mappings":"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","sources":["components/Popup/CloseButton.styled.js","components/Popup/PopupCard.styled.js","components/Popup/Popup.jsx","components/auth/Auth.jsx","components/auth/AuthButton.styled.js","components/auth/AuthField.styled.js","components/auth/Forms/SignInForm.jsx","pages/SignIn.jsx","shared/regex.js"],"sourcesContent":["import { CardMedia, styled } from '@mui/material';\n\nconst CloseButton = styled(CardMedia)({\n  width: 20,\n  height: 20,\n  position: 'absolute',\n  transition: 'transform .2s linear',\n  top: 20,\n  right: 20,\n  cursor: 'pointer',\n  '&:hover': {\n    transform: 'rotate(90deg)',\n  },\n});\n\nexport default CloseButton;\n","import { Card, styled } from '@mui/material';\n\nconst PopupCard = styled(Card)({\n  maxWidth: '580px',\n  borderRadius: '16px',\n  position: 'relative',\n  padding: '40px 75px 40px 75px',\n});\n\nexport default PopupCard;\n","import closeBtn from '../../images/CloseBtn.png';\nimport CloseButton from './CloseButton.styled';\nimport PopupCard from './PopupCard.styled';\n\nconst Popup = ({ children, showCloseBtn = true }) => {\n  return (\n    <PopupCard>\n      {showCloseBtn && (\n        <CloseButton component=\"svg\" alt=\"close\" image={closeBtn} />\n      )}\n      {children}\n    </PopupCard>\n  );\n};\n\nexport default Popup;\n","import { Typography } from '@mui/material';\nimport Popup from 'components/Popup/Popup';\n\nconst Auth = ({ children, title, subtitle }) => {\n  return (\n    <Popup>\n      <Typography variant=\"subtitle\">{subtitle}</Typography>\n      <Typography variant=\"h2\">{title}</Typography>\n      {children}\n    </Popup>\n  );\n};\nexport default Auth;\n","import { Button, styled } from '@mui/material';\n\nconst AuthButton = styled(Button)({\n  display: 'block',\n  margin: '40px 0',\n  width: '200px',\n});\n\nexport default AuthButton;\n","import { styled, TextField } from '@mui/material';\n\nconst AuthField = styled(TextField)(({ theme }) => ({\n  width: '100%',\n  '& fieldset': { display: 'none' },\n  marginBottom: '24px',\n  '&:first-of-type': {\n    marginTop: '40px',\n  },\n  input: {\n    border: `1px solid ${theme.palette.colorList.sanMarino}`,\n    borderRadius: '16px',\n  },\n}));\n\nexport default AuthField;\n","import React, { useEffect } from 'react';\nimport { Controller, useForm } from 'react-hook-form';\nimport { validEmail } from 'shared/regex';\nimport AuthButton from '../AuthButton.styled';\nimport AuthField from '../AuthField.styled';\nimport { useDispatch } from 'react-redux';\nimport { signIn } from 'redux/auth/sliceAuth';\nimport api from 'api/api';\nimport { setTokens } from 'helpers/save_tokens';\nimport { history } from 'helpers/history';\n\nconst SignInForm = () => {\n  const dispatch = useDispatch();\n  const {\n    control,\n    handleSubmit,\n    reset,\n    formState,\n    formState: { isSubmitSuccessful },\n  } = useForm({\n    mode: 'onChange',\n  });\n\n  const onSubmit = async ({ email, password }) => {\n    try {\n      const resp = await api.admin_session.login({email, password});\n      setTokens(resp.data.token);\n      dispatch(signIn(resp.data.user));\n      history.navigate(\"/\");\n    } catch (error) {\n      alert(\"Oops, something went wrong! \\nAn error occurred during authorization. \\nError: \" + error.data.errors[0].message);\n      console.error('sign in error', error);\n    }\n  };\n\n  useEffect(() => {\n    if (formState.isSubmitSuccessful) {\n      reset({ email: '', password: '' });\n    }\n  }, [formState, isSubmitSuccessful, reset]);\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <Controller\n        name=\"email\"\n        control={control}\n        rules={{\n          pattern: {\n            value: validEmail,\n            message: 'please enter a valid email',\n          },\n        }}\n        render={({ field: { onChange, value }, formState: { errors } }) => {\n          return (\n            <AuthField\n              placeholder=\"email\"\n              value={value || ''}\n              onChange={onChange}\n              required\n              helperText={errors.email?.message}\n            />\n          );\n        }}\n      />\n      <Controller\n        name=\"password\"\n        control={control}\n        rules={{\n          minLength: {\n            value: 6,\n            message: 'min length is 6 charts',\n          },\n        }}\n        render={({ field: { onChange, value }, formState: { errors } }) => {\n          return (\n            <AuthField\n              placeholder=\"password\"\n              type=\"password\"\n              value={value || ''}\n              required\n              onChange={onChange}\n              helperText={errors.password?.message}\n            />\n          );\n        }}\n      />\n      <AuthButton type=\"submit\">Sing in</AuthButton>\n    </form>\n  );\n};\nexport default SignInForm;\n","import { Typography, Stack } from '@mui/material';\nimport Auth from 'components/auth/Auth';\nimport SignInForm from 'components/auth/Forms/SignInForm';\n\nconst SignIn = () => {\n  return (\n    <Stack justifyContent=\"center\" alignItems=\"center\">\n      <Auth title=\"Sign up your new account\" subtitle=\"You are welcome! ðŸ‘‹\">\n        <SignInForm />\n        <Typography sx={{ textAlign: 'center' }}>\n          Authorization is available only to admins\n        </Typography>\n      </Auth>\n    </Stack>\n  );\n};\n\nexport default SignIn;\n","/* eslint-disable no-useless-escape */\nexport const validEmail =\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n"],"names":["styled","CardMedia","width","height","position","transition","top","right","cursor","transform","Card","maxWidth","borderRadius","padding","_ref","children","_ref$showCloseBtn","showCloseBtn","_jsxs","PopupCard","_jsx","CloseButton","component","alt","image","title","subtitle","Popup","Typography","variant","AuthButton","Button","display","margin","AuthField","TextField","theme","marginBottom","marginTop","input","border","concat","palette","colorList","sanMarino","dispatch","useDispatch","_useForm","useForm","mode","control","handleSubmit","reset","formState","isSubmitSuccessful","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","resp","wrap","_context","prev","next","api","sent","setTokens","data","token","signIn","user","history","t0","alert","errors","message","console","error","stop","_x","apply","arguments","useEffect","Controller","name","rules","pattern","value","validEmail","render","_ref3","_errors$email","_ref3$field","field","onChange","placeholder","required","helperText","minLength","_ref4","_errors$password","_ref4$field","type","Stack","justifyContent","alignItems","Auth","SignInForm","sx","textAlign"],"sourceRoot":""}